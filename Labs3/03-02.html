<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>

<body>
    <div id="fact_id"></div>

    <script>
        window.addEventListener("load", async function () {
            const startTime = Date.now();
            console.log("asdasd");
            for (i = 1; i <= 20; i++) {
                let time = Date.now() - startTime;
                let response = await fetch(`/fact?k=${i}`, {
                    method: "GET"
                });
                let textDiv = document.getElementById('fact_id');
                if (response.ok) {

                    let json = await response.text();
                    console.log(json);
                    let res = JSON.parse(json).fact;
                    textDiv.innerHTML += `${i}.Результат: ${time}-${i}/${res}<br>`;
                }
            }
        })
    </script>
</body>

</html>